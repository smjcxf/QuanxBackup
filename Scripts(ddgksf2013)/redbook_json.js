/***********************************************
> 应用名称：墨鱼自用小红书去广告脚本
> 脚本作者：@ddgksf2013
> 微信账号：墨鱼手记
> 更新时间：2025-01-13
> 通知频道：https://t.me/ddgksf2021
> 贡献投稿：https://t.me/ddgksf2013_bot
> 问题反馈：ddgksf2013@163.com
> 特别提醒：如需转载请注明出处，谢谢合作！
***********************************************/




const version = 'V1.0.21';
const $ = new Env("小红书");
var _0xodK='jsjiami.com.v7';const _0x55914b=_0x1411;(function(_0x21b00b,_0x44fa7d,_0x4d4193,_0x45f825,_0x4e7f3a,_0x88ebfa,_0x414d46){return _0x21b00b=_0x21b00b>>0x4,_0x88ebfa='hs',_0x414d46='hs',function(_0x2b6d78,_0x381ccd,_0x22bbe5,_0x135fdc,_0x2ddf92){const _0xbffa44=_0x1411;_0x135fdc='tfi',_0x88ebfa=_0x135fdc+_0x88ebfa,_0x2ddf92='up',_0x414d46+=_0x2ddf92,_0x88ebfa=_0x22bbe5(_0x88ebfa),_0x414d46=_0x22bbe5(_0x414d46),_0x22bbe5=0x0;const _0x208c90=_0x2b6d78();while(!![]&&--_0x45f825+_0x381ccd){try{_0x135fdc=-parseInt(_0xbffa44(0x20b,'(*w$'))/0x1+-parseInt(_0xbffa44(0x21f,')GRf'))/0x2*(-parseInt(_0xbffa44(0x1fa,'wdSI'))/0x3)+parseInt(_0xbffa44(0x220,'AqOX'))/0x4*(parseInt(_0xbffa44(0x236,')GRf'))/0x5)+parseInt(_0xbffa44(0x1fd,'92$L'))/0x6*(parseInt(_0xbffa44(0x22c,'#KMX'))/0x7)+-parseInt(_0xbffa44(0x297,']Rdr'))/0x8*(parseInt(_0xbffa44(0x1df,'eonb'))/0x9)+-parseInt(_0xbffa44(0x254,'o]P6'))/0xa*(-parseInt(_0xbffa44(0x223,'Aopj'))/0xb)+parseInt(_0xbffa44(0x22b,'*oS]'))/0xc*(-parseInt(_0xbffa44(0x276,'t)g^'))/0xd);}catch(_0x29110a){_0x135fdc=_0x22bbe5;}finally{_0x2ddf92=_0x208c90[_0x88ebfa]();if(_0x21b00b<=_0x45f825)_0x22bbe5?_0x4e7f3a?_0x135fdc=_0x2ddf92:_0x4e7f3a=_0x2ddf92:_0x22bbe5=_0x2ddf92;else{if(_0x22bbe5==_0x4e7f3a['replace'](/[ngEGkOCtdUMJheVPAKXlx=]/g,'')){if(_0x135fdc===_0x381ccd){_0x208c90['un'+_0x88ebfa](_0x2ddf92);break;}_0x208c90[_0x414d46](_0x2ddf92);}}}}}(_0x4d4193,_0x44fa7d,function(_0x4959fb,_0x20e48a,_0x4a3361,_0x4d1f26,_0xd78d4,_0x41d5d4,_0x346c32){return _0x20e48a='\x73\x70\x6c\x69\x74',_0x4959fb=arguments[0x0],_0x4959fb=_0x4959fb[_0x20e48a](''),_0x4a3361='\x72\x65\x76\x65\x72\x73\x65',_0x4959fb=_0x4959fb[_0x4a3361]('\x76'),_0x4d1f26='\x6a\x6f\x69\x6e',(0x1941a4,_0x4959fb[_0x4d1f26](''));});}(0xc40,0x91760,_0x3711,0xc6),_0x3711)&&(_0xodK=`\x5dc`);$[_0x55914b(0x238,']Rdr')]=_0x55914b(0x298,'%@KA'),$[_0x55914b(0x257,'KKJz')]='redbook_user_video_key';function _0x1411(_0x111692,_0x2afbea){const _0x371140=_0x3711();return _0x1411=function(_0x14114d,_0x52c902){_0x14114d=_0x14114d-0x1ce;let _0x506bce=_0x371140[_0x14114d];if(_0x1411['AhGqse']===undefined){var _0x1570f0=function(_0x4d368f){const _0x2ed934='abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789+/=';let _0x1deeec='',_0x43182f='';for(let _0x1812e0=0x0,_0x219eef,_0x48e4cc,_0x11a241=0x0;_0x48e4cc=_0x4d368f['charAt'](_0x11a241++);~_0x48e4cc&&(_0x219eef=_0x1812e0%0x4?_0x219eef*0x40+_0x48e4cc:_0x48e4cc,_0x1812e0++%0x4)?_0x1deeec+=String['fromCharCode'](0xff&_0x219eef>>(-0x2*_0x1812e0&0x6)):0x0){_0x48e4cc=_0x2ed934['indexOf'](_0x48e4cc);}for(let _0x2ccea8=0x0,_0x5f2572=_0x1deeec['length'];_0x2ccea8<_0x5f2572;_0x2ccea8++){_0x43182f+='%'+('00'+_0x1deeec['charCodeAt'](_0x2ccea8)['toString'](0x10))['slice'](-0x2);}return decodeURIComponent(_0x43182f);};const _0x456a9f=function(_0x57e488,_0x5a9fc8){let _0x1b7c09=[],_0x4106a8=0x0,_0x5e5618,_0x2739ff='';_0x57e488=_0x1570f0(_0x57e488);let _0x16f989;for(_0x16f989=0x0;_0x16f989<0x100;_0x16f989++){_0x1b7c09[_0x16f989]=_0x16f989;}for(_0x16f989=0x0;_0x16f989<0x100;_0x16f989++){_0x4106a8=(_0x4106a8+_0x1b7c09[_0x16f989]+_0x5a9fc8['charCodeAt'](_0x16f989%_0x5a9fc8['length']))%0x100,_0x5e5618=_0x1b7c09[_0x16f989],_0x1b7c09[_0x16f989]=_0x1b7c09[_0x4106a8],_0x1b7c09[_0x4106a8]=_0x5e5618;}_0x16f989=0x0,_0x4106a8=0x0;for(let _0x14e957=0x0;_0x14e957<_0x57e488['length'];_0x14e957++){_0x16f989=(_0x16f989+0x1)%0x100,_0x4106a8=(_0x4106a8+_0x1b7c09[_0x16f989])%0x100,_0x5e5618=_0x1b7c09[_0x16f989],_0x1b7c09[_0x16f989]=_0x1b7c09[_0x4106a8],_0x1b7c09[_0x4106a8]=_0x5e5618,_0x2739ff+=String['fromCharCode'](_0x57e488['charCodeAt'](_0x14e957)^_0x1b7c09[(_0x1b7c09[_0x16f989]+_0x1b7c09[_0x4106a8])%0x100]);}return _0x2739ff;};_0x1411['ZftWrw']=_0x456a9f,_0x111692=arguments,_0x1411['AhGqse']=!![];}const _0x24f453=_0x371140[0x0],_0x48872c=_0x14114d+_0x24f453,_0x3c600a=_0x111692[_0x48872c];return!_0x3c600a?(_0x1411['yDzVOH']===undefined&&(_0x1411['yDzVOH']=!![]),_0x506bce=_0x1411['ZftWrw'](_0x506bce,_0x52c902),_0x111692[_0x48872c]=_0x506bce):_0x506bce=_0x3c600a,_0x506bce;},_0x1411(_0x111692,_0x2afbea);}let body=$response['body'];function _0x3711(){const _0xcaf86a=(function(){return[_0xodK,'CAjAskPjinXalmMhhiJt.EGcUxoKgmkn.Vdnve7O==','5Pom57Ap56Yl6kYo','WOFcHv8FrCk6cZzyW6HKW7fWWQSaDaO','W6ddLSkTWQKNWR3dTSor','aCknWQNcQwi','W7ddVSk8WQJdLZxcUWi','CMpdGvhcJ38IECkGWQa','W6hdPxrnfSkSlGBcOSopz8k5','vJpcMYSSWQpcI8ozW4eQWOjGWOVdSdNcLSo3D8oFjSo5nq','W4e/W5OWumoYW6vnWOvIWRe','fmowW5pdKZxcTrhcM8oA','W6ZdItu','FWBcLvyv','WRlcLglcI8o6WRxcJCoDW7VcOG','y8oYqG','WRNdGh7dMCocW7FdNCkMWO3cLmkh','t8kWqmoU','WPNcLeKtrCki','W41kW6Gv','W6ldMSkIWRWMWQRdT8o9W79IlSk0WOmLc8kEoW','WRtdJgVdNW','rZFcIYWKWQpcKSoVW5eQW50Y','fCoHW4lcHt8qa8ocW58','WObSsaCUhSodW7e','zmkvaSo/bIdcP0JdJq','qqPhF8oTCMhcJSk2kmomn8o6xh1nuq','eSoWW4pcMa','CsCD','mbBdIq','W6Dej1n8tHPzzK9caCofW4S','wConWPK','W5NcICoB','lMNdHq','heyIWRhcKSkbcgpcG2zj','W7vmn1C','pqCWWR/dJSkXmG','qqtcKq','dSo6W53cItCsd8oaWPXS','dIdcLmkblmkuW6qDdq','W4mZW40H','WQFcPtyss8o5iJJcSG','BCoaWR7dJCoHW5DQeW','mCkmWPFdH8ouA0BcIehdRJRdKtKVfCkIW5a','WRrYCa','mJNcKHdcMLCVFCkKWRW','CCkreSofhHdcVeG','kmo/W6JcVCo0WQfNFIbHzh5v','eZtcLYdcKgCTrCkRWRFdRJ7dNh52','sComWR7dQSoHW6DOjXfouCoRBSkMiG','WQtcSdyiqa','bmkbWQpcTdLy','WPRcGuKfqq','W51oW68a','ft3cImkChCkeW6ijeda','i2ldKq','aCk5WQJcOsVdIanDiGJdPmkTWOvuCmkG','qH/cMveXW5FdLKevAW0','cCoNW5NcIZGznCorW5qG','aSo0W4tcJq','W6SiiW','e8onW4ldMXK','WOfcW6hdRmk5hSkuamkp','xCoDW7NdUhu6pCkgWPhdQW','WP5QxXyeamopW7fg','FCoCWRtdI8o6W6fSgszes8oWv8kQpSkt','WPyPW7CeluxdTW','W7/cG8ooWO0bW6eMlfa','W6ddNSk8WQ43','pr3dNCkJb2e1WOudpW','WPDyW7FdMSkJemkqaW','BWNdICo5W53dGCkYW74l'].concat((function(){return['hSoufCkduSkdWPRdLSkaWRKwfHGQaG','dWdcQYpdOGVdR8kkW4NcGY7dNG','fSowW4a','DmolWPeDWQe','yCkrgSoflIBcSq','DCogWQ7dJCorW6zMdW1+vSoWqmkZ','a10XWRZcLCkibLRcKW','BCoaWR7dJCoHWRiJ','DJtcGmkaW7pcSbrJaSk1W4Pz','xbNcKfe4W63dGfvEyGddMmk8','W71bWRBcMCknW501emo6W5O','W6jaWQhcJSk3W7i0eCoOW5O','v8kGWOtdLcC1aCopW58l','W7JdNSk9WOiGWQRdV8odW6XOjCkpWPCvcSkpjq','hSoyW5pdLW','d8olW4S','DSomWRFdJCorW7HIfbjaqSoH','D8kzbmotfa','W5mItMuX','W6hcKSoyWO0o','omouaSk1','W4qdW6Gh','WQldIhpdN8otW7tdNmkCWO7dGCoiqtrTWOhdIhu','WQizC0zwysTqEW','zCo0xmo0W6akWO3dMh8','f8oCW4RdKZxcQrNcI8ofW4JcH2G','wbNcMG','i8kFW6RcNCk9WRG7lIHIxmoota','q8o5W6ldOsddNqXVmGa','WRlcKMhcHSoYW6ldK8kSWQldNSo1','W7bcW6XHDcJdMGhdOYu','oSoyfCkKuSkZWPFdO8knWRiagdaK','a8k0eWCJAI/dKsBcIW','EmogWRFdHCoRW6z3ba','cWdcUI7dKrldOmknW4NcS2dcN8oi','WReaWRa4pNBcTLtcUNO1dx0dWRu','W68gn0/dPqWDC8oiWOxcGSkXDHu3nqy','W58az8oXW6VdGeZdJmkvpWavyuldL8ogEeu','W417fYtdJW','vqbzw8o4Dg0','deddJqfTWRJcNwGHtrddPmkW','DwldHLddIdL/vmkeWP7dVrddGa','BSomhG','W7tdNSk6WRW','W5CizCo1','W4iMW6uHaa','geGWWORcICkka13cNM5kdGf3j3zg','mwfbW6tcUmobhr3dHCoJzhq','fSkHWQ/cTa','5PkR57w0566Q6k+L','CuhcNSoCl8k2l8otDsa','qCo0W6VcPqVdLqLilq','zfZcJCoDl8kSnCooFtFdS21jq8kVDWfwW6z2W6zInIpdOCoudZGPi+AsRoE2PoETREIUN20h','WOBcTca5sSoXia7cO8oSvCkVW6xdLhK','WP/cKLC','bWBcQIJdKrtdPSkbW6lcMwBcKG','WPG3huy','j2ZdHCoNWRpdRtPneCk/W7r8dCoOpCk9yG','u8k0qmofWOuLDCopWO5DWRhcRdvLW6SSpa','wSonWOSiWOtcLmkDWRdcTeu','W49ZdZhdMsm','W6zGWRhdQmokW5GYW5Xi','uHpcMfbKWQG','W5XOdW','uJ/cMYWSWPpcHSoJW5e9WOvZWRFdQW','W5T/dYtdIdtdO3JdKmo/WOldJCoLemkeeSkO','W7HfWQhcM8k3W54ce8oNW4zj','WQ8vWRGWlehcMLBcO3emb3vxW7pcRCkr','W4BcJSoDWQlcMXRcOmoWzSol','ttVcNI4MWPpcLCo0W5G','imoEfG','ESoVsq'].concat((function(){return['A8kvWQzcebhcVCk2W5a','C8kDbCou','W6rAWQW','aSkHWQNcPIS','W70MW7xcTa','W7NcHCoq','oCodhq','WPiKu3KWgSoeW5BdPCkHnmk8gGy','mJtcKHdcNgbPFCkTWQFdRIlcRtS','WR7dJ8koW5DFW6iFi1RcLSkl','amoGW57cJYuEbCokW7KPEcpcNrKpW70','q8oYu109EIldNt0','W6emDCowW5VdN0/dTCkindOCq0VdIW','W6DbWQtcMCk9W7i5emo5W5TrW5tdOmkt','mtdcGrhcMG','W6zej1f2zq0mmq','fwBdKmoD','cmkjWRNcOq','WQmaWQWgoxBcJfRcSa','WQpdMw3dL8ojW7BdKCkLWPa','laZdNCku','WOuIESo2W7ddU1u','CSohqmoyW6S','rWlcJ10WW6/dJfCj','hSkVWRW','rH1h','eqZcSsFdIr7dO8k6W5RcG3VcMSozBdr2W5G','W6BdTCkSWPpdGIJcTW','W7Xij19YtG1xz0rXdColW4hdQmoIW6e','smkHuSoUWOiZ','oCoZW6lcVCoPWP96DrLNvMKaBa','WRirWQ4Qka','AComWQRdH8o8W7W','W40hW7Gpca','WOb9W5OmFSkPWOq','cmkPaCoMW4C8lCosW4S','W5uaFCoGW5hdGG','W5q5W44SymobW79tWOS','CCkvWRfgdq','bWJcQsC','A8oiWQJdM8oR','vJpcKYG3WQNcHmozW5m2WOH2WQFdNZ/cJmoU','WQmzCaiRCXb3FMXj','cSoMCmowWR0zESoN','W5ZcI8oDWRFcMXRcVmoSBa','ustcKW','W6xdSCkQWOtdHG','F8oFbSkH','nbJdNCkJeNy2WPehkCkscmkIgHZcSwG','WRJdJgZdOCovW7tdLmkIWP3dI8odEIbDWOddMwS','hmkjWR/cS2y','dSo0W4pcSYmsbSofW5iPCGJcIb8fW6P1','kCkgqmoZotqPm8oRkZC','ztec','W5aZuh8G','WRvLBZW','amo6W4lcQtauaG','nwyYWP7dGCkQgWW','W4CIshC','omkiWOFdJW','stpcMYaIWPpcK8oNW4i8WRHXWRVdRJFcKmoK','dGZcUs/dNctdTmkeW4VcIuVcNCofxtXQW5i','CSoAWOxdICoQW7S','kt7cNGFcMw0JD8oSWQddOZ7dPW','cthcLCkC','mSo5W6S','qW5zBCo8','W6hcKSorWOeWW7yUkulcPmkVW78','v8kSWONdMd8poSoLW5m2','WPJcHuSzvSkr'];}()));}()));}());_0x3711=function(){return _0xcaf86a;};return _0x3711();};if(body){switch(!![]){case/api\/sns\/v\d\/note\/widgets/['test']($request[_0x55914b(0x1e7,'Ulyg')]):try{let obj=JSON[_0x55914b(0x1ff,'8SWs')](body);const propertiesToDelete=[_0x55914b(0x252,'sRy2'),_0x55914b(0x208,'F1V&')];for(const prop of propertiesToDelete){obj[_0x55914b(0x1d0,'y$29')]?.[prop]&&delete obj['data'][prop];}body=JSON[_0x55914b(0x1e4,']Rdr')](obj);}catch(_0x4e6023){console[_0x55914b(0x29b,'AqOX')](_0x55914b(0x25a,'6hos')+_0x4e6023);}break;case/api\/sns\/v\d\/note\/live_photo\/save/[_0x55914b(0x28b,']Nbi')]($request[_0x55914b(0x29e,'PZxd')]):try{let obj=JSON[_0x55914b(0x1ed,']Rdr')](body);obj[_0x55914b(0x286,'OLE1')][_0x55914b(0x229,'05])')]=JSON['parse']($['getdata']($[_0x55914b(0x203,'&)pI')])),body=JSON[_0x55914b(0x209,'Oo4A')](obj);}catch(_0xe38491){console[_0x55914b(0x1d8,')5qj')](_0x55914b(0x204,'%^L*')+_0xe38491);}break;case/api\/sns\/v\d\/note\/video\/save/['test']($request['url']):try{let obj=JSON[_0x55914b(0x26a,'1K[3')](body);obj['data']=JSON[_0x55914b(0x279,'VfSZ')]($['getdata']($['RedBookVideoKey'])),body=JSON[_0x55914b(0x1f9,']W[4')](obj);}catch(_0x1e47a9){console[_0x55914b(0x1db,'N@1G')](_0x55914b(0x20a,'F1V&')+_0x1e47a9);}break;case/api\/sns\/v\d\/note\/comment\/list/['test']($request[_0x55914b(0x24d,'t^R5')]):try{let obj=JSON['parse'](body);for(let module of obj[_0x55914b(0x233,')GRf')][_0x55914b(0x224,'F1V&')]){if(module[_0x55914b(0x1d3,'DFkF')])for(let item of module[_0x55914b(0x293,'8SWs')]){item[_0x55914b(0x21c,'5)I5')]?.[_0x55914b(0x248,'%@KA')]&&(item[_0x55914b(0x1f5,'ymNm')]=item[_0x55914b(0x213,'F1V&')]['image_url'],item[_0x55914b(0x264,'o20d')]=item[_0x55914b(0x28e,'o]P6')][_0x55914b(0x277,'N@1G')]);}}body=JSON[_0x55914b(0x1e2,']Nbi')](obj);}catch(_0x35b34a){console[_0x55914b(0x205,'5)I5')]('comment:\x20'+_0x35b34a);}break;case/api\/sns\/v\d\/note\/redtube/[_0x55914b(0x1e3,'FA#Z')]($request['url']):try{let obj=JSON['parse'](body);for(let module of obj[_0x55914b(0x1f0,'UDVR')]['items']){module[_0x55914b(0x274,'%@KA')]&&(module[_0x55914b(0x219,'y$29')]=0x0),module[_0x55914b(0x227,'LfM&')]&&(module[_0x55914b(0x210,'8SWs')]=![]),module[_0x55914b(0x288,'%^L*')]&&(module[_0x55914b(0x287,'%@KA')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]}),module[_0x55914b(0x247,'N@1G')]&&(module[_0x55914b(0x20e,'t^R5')][_0x55914b(0x1fc,'F1V&')]=[{'type':_0x55914b(0x258,'t^R5')},{'type':_0x55914b(0x269,'wBoq')},{'type':'copy_link'},{'type':'native_voice'},{'type':_0x55914b(0x299,'FA#Z')},{'type':'dislike'},{'type':_0x55914b(0x26b,'F1V&')},{'type':_0x55914b(0x243,'%@KA')}]);}body=JSON['stringify'](obj);}catch(_0xfe2ab3){console[_0x55914b(0x21d,'*oS]')]('redtube:\x20'+_0xfe2ab3);}break;case/api\/sns\/v\d\/note\/videofeed/['test']($request[_0x55914b(0x251,'&)pI')]):try{let obj=JSON[_0x55914b(0x24e,')GRf')](body),idata={};for(let module of obj[_0x55914b(0x22f,'KKJz')]){const PubcYf=_0x55914b(0x26e,'t)g^')[_0x55914b(0x281,'sRy2')]('|');let lEGNTc=0x0;while(!![]){switch(PubcYf[lEGNTc++]){case'0':module['media_save_config']&&(module[_0x55914b(0x246,'1K[3')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]});continue;case'1':module[_0x55914b(0x1ea,'wBoq')]?.[_0x55914b(0x216,'o]P6')]?.[_0x55914b(0x24f,'mi7x')]&&(idata[_0x55914b(0x268,'t)g^')]='2',idata['note_id']=module['id'],idata[_0x55914b(0x23a,'%^L*')]=module['video_info_v2'][_0x55914b(0x294,'wdSI')][_0x55914b(0x25b,']Nbi')][0x0]['master_url']);continue;case'2':module[_0x55914b(0x23c,'(*w$')]&&(module[_0x55914b(0x27b,')5qj')]=![]);continue;case'3':module['related_goods_num']&&(module['related_goods_num']=0x0);continue;case'4':module[_0x55914b(0x1e8,'#KMX')]&&(module['share_info'][_0x55914b(0x255,'ymNm')]=[{'type':_0x55914b(0x1d9,'6hos')},{'type':'generate_image'},{'type':_0x55914b(0x270,'FA#Z')},{'type':'native_voice'},{'type':_0x55914b(0x1f4,'*oS]')},{'type':'dislike'},{'type':_0x55914b(0x290,'eCfz')},{'type':_0x55914b(0x222,'&)pI')}]);continue;}break;}}$[_0x55914b(0x266,'VfSZ')](JSON[_0x55914b(0x240,'mi7x')](idata),$[_0x55914b(0x1eb,'#KMX')]),body=JSON['stringify'](obj);}catch(_0x23f294){console[_0x55914b(0x24a,'PZxd')]('videofeed:\x20'+_0x23f294);}break;case/api\/sns\/v\d\/note\/feed/[_0x55914b(0x217,'&)pI')]($request[_0x55914b(0x242,'05])')]):try{let obj=JSON[_0x55914b(0x215,'sRy2')](body);for(let module of obj['data']){module[_0x55914b(0x1d5,'o20d')]&&(module[_0x55914b(0x244,'05])')]=0x0);module[_0x55914b(0x23d,'t)g^')]&&(module[_0x55914b(0x27c,'y$29')]=![]);if(module['note_list'])for(let item of module[_0x55914b(0x1fb,'DFkF')]){item[_0x55914b(0x292,'eCfz')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}}body=JSON[_0x55914b(0x262,'*oS]')](obj);}catch(_0x1dea25){console[_0x55914b(0x263,')GRf')](_0x55914b(0x241,'*oS]')+_0x1dea25);}break;case/api\/sns\/v\d\/note\/imagefeed/[_0x55914b(0x24c,'JhIG')]($request[_0x55914b(0x250,'o]P6')]):try{let obj=JSON[_0x55914b(0x1ef,'eCfz')](body),datas=[];for(let module of obj['data']){module[_0x55914b(0x1cf,'8SWs')]&&(module[_0x55914b(0x265,'%^L*')]=0x0);module[_0x55914b(0x27e,'ymNm')]&&(module[_0x55914b(0x231,'Oo4A')]=![]);if(module['note_list'])for(let item of module[_0x55914b(0x29a,'5)I5')]){item[_0x55914b(0x1e6,'OLE1')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};if(item[_0x55914b(0x245,'t^R5')])for(let it of item['images_list']){if(it[_0x55914b(0x23e,'(4u!')]){let idata={};idata[_0x55914b(0x1e5,'F1V&')]=it[_0x55914b(0x20d,'t^R5')][_0x55914b(0x294,'wdSI')][_0x55914b(0x1e9,'JhIG')],idata[_0x55914b(0x207,'JhIG')]=it[_0x55914b(0x228,'KKJz')],idata[_0x55914b(0x264,'o20d')]=it['live_photo'][_0x55914b(0x26c,'92$L')][_0x55914b(0x2a1,'eCfz')][_0x55914b(0x23b,'DFkF')][0x0]['master_url'],datas[_0x55914b(0x25f,')5qj')](idata);}}}}$['setdata'](JSON['stringify'](datas),$[_0x55914b(0x1ec,'F1V&')]),body=JSON[_0x55914b(0x24b,'rmqJ')](obj);}catch(_0x5159df){console[_0x55914b(0x28c,'wBoq')](_0x55914b(0x29f,'y$29')+_0x5159df);}break;case/api\/sns\/v\d\/homefeed\/categories\?/[_0x55914b(0x282,'Ulyg')]($request[_0x55914b(0x29e,'PZxd')]):try{let obj=JSON[_0x55914b(0x273,'F1V&')](body);obj[_0x55914b(0x218,'92$L')]['categories']=obj[_0x55914b(0x211,'5)I5')]['categories'][_0x55914b(0x23f,'05])')](_0x4faa2c=>!(_0x4faa2c['oid']==_0x55914b(0x28a,'#KMX')||_0x4faa2c[_0x55914b(0x1da,'(4u!')]==_0x55914b(0x20c,'*oS]'))),body=JSON[_0x55914b(0x240,'mi7x')](obj);}catch(_0x44a2ed){console['log'](_0x55914b(0x1d1,'%@KA')+_0x44a2ed);}break;case/api\/sns\/v\d\/search\/hint/[_0x55914b(0x2a0,'t)g^')]($request[_0x55914b(0x239,'eCfz')]):try{let obj=JSON[_0x55914b(0x259,'#KMX')](body);obj['data']?.['hint_words']&&(obj['data'][_0x55914b(0x1f1,']Nbi')]=[{'title':_0x55914b(0x234,'FA#Z'),'type':_0x55914b(0x237,'0%ii'),'search_word':_0x55914b(0x291,'y$29')}]),body=JSON[_0x55914b(0x256,'Aopj')](obj);}catch(_0x178938){console['log'](_0x55914b(0x1ee,'wdSI')+_0x178938);}break;case/api\/sns\/v\d\/search\/hot_list/['test']($request[_0x55914b(0x22d,'3cb9')]):try{let obj=JSON[_0x55914b(0x214,'JhIG')](body);obj[_0x55914b(0x27a,'3cb9')]={'scene':'','title':'','items':[],'host':'','background_color':{},'word_request_id':''},body=JSON[_0x55914b(0x1d2,'ymNm')](obj);}catch(_0x5a7fcd){console[_0x55914b(0x249,'&)pI')]('hot_list:\x20'+_0x5a7fcd);}break;case/api\/sns\/v\d\/search\/trending/[_0x55914b(0x24c,'JhIG')]($request[_0x55914b(0x212,'5)I5')]):try{let obj=JSON['parse'](body);obj[_0x55914b(0x272,'%^L*')]={'title':'','queries':[],'type':'','word_request_id':''},body=JSON[_0x55914b(0x21b,'PZxd')](obj);}catch(_0x49c191){console[_0x55914b(0x28c,'wBoq')]('trending:\x20'+_0x49c191);}break;case/api\/sns\/v\d\/system_service\/splash_config/[_0x55914b(0x1ce,'UDVR')]($request[_0x55914b(0x278,'%@KA')]):try{let obj=JSON['parse'](body);obj[_0x55914b(0x1f6,'ymNm')][_0x55914b(0x200,')5qj')][_0x55914b(0x283,'ymNm')](_0x3c3389=>{const _0x5324b5=_0x55914b,_0x1717f7={'UeHJJ':_0x5324b5(0x202,'UXhI'),'dGnEe':function(_0x537741,_0x2e1ac7){return _0x537741!==_0x2e1ac7;},'KphbK':'bDyGi','Bolpz':_0x5324b5(0x221,'1K[3'),'pEDDb':_0x5324b5(0x29d,'AqOX')};_0x3c3389['start_time']=_0x1717f7[_0x5324b5(0x206,'(4u!')],_0x3c3389[_0x5324b5(0x295,'VfSZ')]=_0x1717f7['pEDDb'],_0x3c3389[_0x5324b5(0x280,'eonb')]&&_0x3c3389[_0x5324b5(0x1dc,'(*w$')][_0x5324b5(0x22a,'o20d')](_0x5eb858=>{const _0x47c8ee=_0x5324b5;if(_0x1717f7[_0x47c8ee(0x261,'PZxd')](_0x1717f7[_0x47c8ee(0x29c,'*oS]')],_0x47c8ee(0x230,'92$L')))for(let _0x19d0ad of _0x203a61[_0x1717f7['UeHJJ']]){_0x19d0ad[_0x47c8ee(0x267,'6hos')]={'disable_save':![],'disable_watermark':!![],'disable_weibo_cover':!![]};}else _0x5eb858[_0x47c8ee(0x235,'0%ii')]=_0x1717f7['Bolpz'],_0x5eb858[_0x47c8ee(0x201,']W[4')]=_0x1717f7['pEDDb'];});}),body=JSON['stringify'](obj);}catch(_0x4edf26){console['log'](_0x55914b(0x226,'1K[3')+_0x4edf26);}break;case/api\/sns\/v\d\/homefeed\?/[_0x55914b(0x1d6,'ymNm')]($request[_0x55914b(0x24d,'t^R5')]):try{let obj=JSON[_0x55914b(0x27d,'wdSI')](body);obj[_0x55914b(0x1de,'6hos')]=obj[_0x55914b(0x25c,'wdSI')]['filter'](_0x381327=>!_0x381327[_0x55914b(0x289,'F1V&')]),body=JSON[_0x55914b(0x25e,'y$29')](obj);}catch(_0x265d17){console[_0x55914b(0x1f2,'(*w$')](_0x55914b(0x1e1,'ymNm')+_0x265d17);}break;case/api\/sns\/v\d+\/search\/notes\?/['test']($request[_0x55914b(0x1d7,'eonb')]):try{let obj=JSON[_0x55914b(0x28d,'o20d')](body);obj[_0x55914b(0x285,'sRy2')][_0x55914b(0x1f8,'5)I5')]=obj['data'][_0x55914b(0x271,'rmqJ')][_0x55914b(0x26f,'KKJz')](_0x3200f6=>!_0x3200f6['ads']),body=JSON['stringify'](obj);}catch(_0x11b031){console[_0x55914b(0x1f7,'LfM&')](_0x55914b(0x253,'#KMX')+_0x11b031);}break;case/api\/sns\/v\d\/system_service\/config\?/['test']($request[_0x55914b(0x1e0,'*oS]')]):try{let obj=JSON['parse'](body);const propertiesToDelete=['store','splash',_0x55914b(0x1dd,'Oo4A'),_0x55914b(0x25d,'1K[3'),_0x55914b(0x1d4,'JhIG'),_0x55914b(0x225,'%^L*')];for(const prop of propertiesToDelete){obj[_0x55914b(0x22e,'8SWs')]?.[prop]&&delete obj[_0x55914b(0x272,'%^L*')][prop];}body=JSON[_0x55914b(0x1fe,'o]P6')](obj);}catch(_0x203b3f){console['log'](_0x55914b(0x1f3,')GRf')+_0x203b3f);}break;default:$done({});break;}$done({'body':body});}else $done({});var version_ = 'jsjiami.com.v7';
function Env(t, e) { "undefined" != typeof process && JSON.stringify(process.env).indexOf("GITHUB") > -1 && process.exit(0); class s { constructor(t) { this.env = t } send(t, e = "GET") { t = "string" == typeof t ? { url: t } : t; let s = this.get; return "POST" === e && (s = this.post), new Promise((e, i) => { s.call(this, t, (t, s, r) => { t ? i(t) : e(s) }) }) } get(t) { return this.send.call(this.env, t) } post(t) { return this.send.call(this.env, t, "POST") } } return new class { constructor(t, e) { this.name = t, this.http = new s(this), this.data = null, this.dataFile = "box.dat", this.logs = [], this.isMute = !1, this.isNeedRewrite = !1, this.logSeparator = "\n", this.startTime = (new Date).getTime(), Object.assign(this, e)} isNode() { return "undefined" != typeof module && !!module.exports } isQuanX() { return "undefined" != typeof $task } isSurge() { return "undefined" != typeof $httpClient && "undefined" == typeof $loon } isLoon() { return "undefined" != typeof $loon } toObj(t, e = null) { try { return JSON.parse(t) } catch { return e } } toStr(t, e = null) { try { return JSON.stringify(t) } catch { return e } } getjson(t, e) { let s = e; const i = this.getdata(t); if (i) try { s = JSON.parse(this.getdata(t)) } catch { } return s } setjson(t, e) { try { return this.setdata(JSON.stringify(t), e) } catch { return !1 } } getScript(t) { return new Promise(e => { this.get({ url: t }, (t, s, i) => e(i)) }) } runScript(t, e) { return new Promise(s => { let i = this.getdata("@chavy_boxjs_userCfgs.httpapi"); i = i ? i.replace(/\n/g, "").trim() : i; let r = this.getdata("@chavy_boxjs_userCfgs.httpapi_timeout"); r = r ? 1 * r : 20, r = e && e.timeout ? e.timeout : r; const [o, h] = i.split("@"), n = { url: `http://${h}/v1/scripting/evaluate`, body: { script_text: t, mock_type: "cron", timeout: r }, headers: { "X-Key": o, Accept: "*/*" } }; this.post(n, (t, e, i) => s(i)) }).catch(t => this.logErr(t)) } loaddata() { if (!this.isNode()) return {}; { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e); if (!s && !i) return {}; { const i = s ? t : e; try { return JSON.parse(this.fs.readFileSync(i)) } catch (t) { return {} } } } } writedata() { if (this.isNode()) { this.fs = this.fs ? this.fs : require("fs"), this.path = this.path ? this.path : require("path"); const t = this.path.resolve(this.dataFile), e = this.path.resolve(process.cwd(), this.dataFile), s = this.fs.existsSync(t), i = !s && this.fs.existsSync(e), r = JSON.stringify(this.data); s ? this.fs.writeFileSync(t, r) : i ? this.fs.writeFileSync(e, r) : this.fs.writeFileSync(t, r) } } lodash_get(t, e, s) { const i = e.replace(/\[(\d+)\]/g, ".$1").split("."); let r = t; for (const t of i) if (r = Object(r)[t], void 0 === r) return s; return r } lodash_set(t, e, s) { return Object(t) !== t ? t : (Array.isArray(e) || (e = e.toString().match(/[^.[\]]+/g) || []), e.slice(0, -1).reduce((t, s, i) => Object(t[s]) === t[s] ? t[s] : t[s] = Math.abs(e[i + 1]) >> 0 == +e[i + 1] ? [] : {}, t)[e[e.length - 1]] = s, t) } getdata(t) { let e = this.getval(t); if (/^@/.test(t)) { const [, s, i] = /^@(.*?)\.(.*?)$/.exec(t), r = s ? this.getval(s) : ""; if (r) try { const t = JSON.parse(r); e = t ? this.lodash_get(t, i, "") : e } catch (t) { e = "" } } return e } setdata(t, e) { let s = !1; if (/^@/.test(e)) { const [, i, r] = /^@(.*?)\.(.*?)$/.exec(e), o = this.getval(i), h = i ? "null" === o ? null : o || "{}" : "{}"; try { const e = JSON.parse(h); this.lodash_set(e, r, t), s = this.setval(JSON.stringify(e), i) } catch (e) { const o = {}; this.lodash_set(o, r, t), s = this.setval(JSON.stringify(o), i) } } else s = this.setval(t, e); return s } getval(t) { return this.isSurge() || this.isLoon() ? $persistentStore.read(t) : this.isQuanX() ? $prefs.valueForKey(t) : this.isNode() ? (this.data = this.loaddata(), this.data[t]) : this.data && this.data[t] || null } setval(t, e) { return this.isSurge() || this.isLoon() ? $persistentStore.write(t, e) : this.isQuanX() ? $prefs.setValueForKey(t, e) : this.isNode() ? (this.data = this.loaddata(), this.data[e] = t, this.writedata(), !0) : this.data && this.data[e] || null } initGotEnv(t) { this.got = this.got ? this.got : require("got"), this.cktough = this.cktough ? this.cktough : require("tough-cookie"), this.ckjar = this.ckjar ? this.ckjar : new this.cktough.CookieJar, t && (t.headers = t.headers ? t.headers : {}, void 0 === t.headers.Cookie && void 0 === t.cookieJar && (t.cookieJar = this.ckjar)) } get(t, e = (() => { })) { t.headers && (delete t.headers["Content-Type"], delete t.headers["Content-Length"]), this.isSurge() || this.isLoon() ? (this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.get(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) })) : this.isQuanX() ? (this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t))) : this.isNode() && (this.initGotEnv(t), this.got(t).on("redirect", (t, e) => { try { if (t.headers["set-cookie"]) { const s = t.headers["set-cookie"].map(this.cktough.Cookie.parse).toString(); s && this.ckjar.setCookieSync(s, null), e.cookieJar = this.ckjar } } catch (t) { this.logErr(t) } }).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) })) } post(t, e = (() => { })) { if (t.body && t.headers && !t.headers["Content-Type"] && (t.headers["Content-Type"] = "application/x-www-form-urlencoded"), t.headers && delete t.headers["Content-Length"], this.isSurge() || this.isLoon()) this.isSurge() && this.isNeedRewrite && (t.headers = t.headers || {}, Object.assign(t.headers, { "X-Surge-Skip-Scripting": !1 })), $httpClient.post(t, (t, s, i) => { !t && s && (s.body = i, s.statusCode = s.status), e(t, s, i) }); else if (this.isQuanX()) t.method = "POST", this.isNeedRewrite && (t.opts = t.opts || {}, Object.assign(t.opts, { hints: !1 })), $task.fetch(t).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => e(t)); else if (this.isNode()) { this.initGotEnv(t); const { url: s, ...i } = t; this.got.post(s, i).then(t => { const { statusCode: s, statusCode: i, headers: r, body: o } = t; e(null, { status: s, statusCode: i, headers: r, body: o }, o) }, t => { const { message: s, response: i } = t; e(s, i, i && i.body) }) } } time(t, e = null) { const s = e ? new Date(e) : new Date; let i = { "M+": s.getMonth() + 1, "d+": s.getDate(), "H+": s.getHours(), "m+": s.getMinutes(), "s+": s.getSeconds(), "q+": Math.floor((s.getMonth() + 3) / 3), S: s.getMilliseconds() }; /(y+)/.test(t) && (t = t.replace(RegExp.$1, (s.getFullYear() + "").substr(4 - RegExp.$1.length))); for (let e in i) new RegExp("(" + e + ")").test(t) && (t = t.replace(RegExp.$1, 1 == RegExp.$1.length ? i[e] : ("00" + i[e]).substr(("" + i[e]).length))); return t } msg(e = t, s = "", i = "", r) { const o = t => { if (!t) return t; if ("string" == typeof t) return this.isLoon() ? t : this.isQuanX() ? { "open-url": t } : this.isSurge() ? { url: t } : void 0; if ("object" == typeof t) { if (this.isLoon()) { let e = t.openUrl || t.url || t["open-url"], s = t.mediaUrl || t["media-url"]; return { openUrl: e, mediaUrl: s } } if (this.isQuanX()) { let e = t["open-url"] || t.url || t.openUrl, s = t["media-url"] || t.mediaUrl; return { "open-url": e, "media-url": s } } if (this.isSurge()) { let e = t.url || t.openUrl || t["open-url"]; return { url: e } } } }; if (this.isMute || (this.isSurge() || this.isLoon() ? $notification.post(e, s, i, o(r)) : this.isQuanX() && $notify(e, s, i, o(r))), !this.isMuteLog) { let t = [""]; t.push(e), s && t.push(s), i && t.push(i), console.log(t.join("\n")), this.logs = this.logs.concat(t) } } log(...t) { t.length > 0 && (this.logs = [...this.logs, ...t]), console.log(t.join(this.logSeparator)) } logErr(t, e) { const s = !this.isSurge() && !this.isQuanX() && !this.isLoon(); s ? this.log("", `❗️${this.name}, 错误!`, t.stack) : this.log("", `❗️${this.name}, 错误!`, t) } wait(t) { return new Promise(e => setTimeout(e, t)) } done(t = {}) { const e = (new Date).getTime(), s = (e - this.startTime) / 1e3; (this.isSurge() || this.isQuanX() || this.isLoon()) && $done(t) } }(t, e) }
